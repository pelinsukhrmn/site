<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Oteller</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div th:replace="~{fragments/layout :: navbar}"></div>
    <div class="container my-5">
        <div class="d-flex justify-content-between mb-5">
            <h2 class="fw-bold border-start border-5 border-warning ps-3">Anlaşmalı Oteller</h2>
            <a href="/oteller/ekle" th:if="${session.kullanici != null and session.kullanici.calisanTipi == 'YONETICI'}" class="btn btn-primary shadow"><i class="fa-solid fa-hotel me-2"></i>Otel Ekle</a>
        </div>
        <div class="row g-4">
            <div class="col-md-4" th:each="otel : ${otelListesi}">
                <div class="card shadow h-100">
                    <img th:src="${otel.resimUrl != null ? otel.resimUrl : 'https://picsum.photos/seed/otel'+ otel.otelId +'/400/250'}" class="card-img-top" style="height:250px; object-fit:cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between mb-2">
                            <span class="text-warning"><i class="fa-solid fa-star"></i> <span th:text="${otel.yildiz}"></span></span>
                            <span class="badge bg-success" th:text="'$' + ${otel.geceFiyati}"></span>
                        </div>
                        <h5 class="card-title fw-bold" th:text="${otel.otelAdi}"></h5>
                        <p class="text-muted small" th:text="${otel.odaTipi}"></p>
                    </div>
                    <div class="card-footer bg-white border-0 pb-3 d-flex gap-2">
                        <a th:href="${otel.webSitesi}" target="_blank" class="btn btn-outline-primary flex-grow-1">İncele</a>
                        <a th:href="@{/oteller/sil/{id}(id=${otel.otelId})}" th:if="${session.kullanici != null and session.kullanici.calisanTipi == 'YONETICI'}" onclick="return confirm('Silinsin mi?')" class="btn btn-outline-danger"><i class="fa-solid fa-trash"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>