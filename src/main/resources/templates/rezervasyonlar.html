<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Rezervasyonlar</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div th:replace="~{fragments/layout :: navbar}"></div>
    <div class="container my-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="fw-bold">Rezervasyon Takibi</h2>
            <a href="/rezervasyonlar/ekle" class="btn btn-primary shadow">Yeni Rezervasyon</a>
        </div>
        <div class="card shadow"><div class="card-body p-0"><table class="table table-hover mb-0">
            <thead class="table-dark"><tr><th>Rez No</th><th>Müşteri</th><th>Tur</th><th>Tarih</th><th>Tutar</th><th>Durum</th><th>İşlem</th></tr></thead>
            <tbody>
                <tr th:each="rez : ${rezListesi}">
                    <td th:text="${rez.rezervasyonNo}"></td>
                    <td th:text="${rez.musteri.ad + ' ' + rez.musteri.soyad}"></td>
                    <td th:text="${rez.tur.turAdi}"></td>
                    <td th:text="${rez.baslangicTarihi}"></td>
                    <td th:text="'$' + ${rez.toplamTutar}"></td>
                    <td><span th:text="${rez.durum}" class="badge bg-warning text-dark"></span></td>
                    <td class="d-flex gap-2">
    <a th:href="@{/rezervasyonlar/duzenle/{id}(id=${rez.rezervasyonId})}" 
       class="btn btn-sm btn-outline-warning text-dark" title="Düzenle">
       <i class="fa-solid fa-pen-to-square"></i>
    </a>

    <a th:href="@{/rezervasyonlar/sil/{id}(id=${rez.rezervasyonId})}" 
       class="btn btn-sm btn-outline-danger rounded-circle"
       onclick="return confirm('Bu rezervasyonu silmek istiyor musunuz?')" 
       title="Sil">
       <i class="fa-solid fa-trash"></i>
    </a>
</td>
                </tr>
            </tbody>
        </table></div></div>
    </div>
</body>
</html>